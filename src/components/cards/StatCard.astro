---
import { formatNumber, formatChange } from '@/lib/utils/formatters';

interface Props {
  label: string;
  value: number;
  change?: number;
  changeLabel?: string;
  icon?: string;
}

const { label, value, change, changeLabel = 'vs last week', icon } = Astro.props;

const isPositive = change !== undefined && change >= 0;
---

<div class="card">
  <div class="flex items-start justify-between">
    <div>
      <p class="stat-label">{label}</p>
      <p class="stat-value mt-1">{formatNumber(value)}</p>
      {change !== undefined && (
        <p class={`text-sm mt-2 ${isPositive ? 'text-green-400' : 'text-red-400'}`}>
          {formatChange(change)} <span class="text-gray-500">{changeLabel}</span>
        </p>
      )}
    </div>
    {icon && (
      <div class="text-n8n-primary text-2xl">
        <Fragment set:html={icon} />
      </div>
    )}
  </div>
</div>
